{% extends "base.html" %}

{% block title %} Variables {% endblock %}
{% block container_content %}
  <h3>Variables</h3>
  <p><a class="btn btn-primary" href="{{url_for('variable_edit')}}">Add Variable</a></p>
  <table class="table table-striped table-bordered ">
    <thead>
      <th>ID</th>
      <th>Name</th>
      <th>Description</th>
      <th>Dimension</th>
      <th>Roles</th>
      <th>In Use</th>
      <th></th>
    </thead>
    <tbody>
    {% for variable in variables %}
    <tr id='vr_{{variable.id}}'>
      <td>{{ variable.id }}</td>
      <td id='vdn_{{variable.id}}'>{{ variable.name }}</td>
      <td>{{ variable.description }}</td>
      <td><a href={{ url_for('dimensions_view', dimension_id=variable.dimension.id) }}>{{ variable.dimension.name }}</a></td>
      <td>{% for role in variable.roles %}<a href={{url_for('roles_view',role_id=role.id)}}>{{role.name}}</a>{% if not loop.last %}, {% endif %}{% endfor %}</td>
      <td>{{ variable.in_use }}</td>
      <td>
        <a href="{{url_for('variable_edit', variable_id=variable.id)}}"><i class="icon-pencil"></i></a>
        <a ><i id='dv_{{variable.id}}' class="icon-remove remove-variable"></i></a>
      </td>
    </tr>
    {% endfor %}
    </tbody>
  </table>
{% endblock container_content %}

{% block page_specific_js %}
    <script type="text/javascript" src="{{url_for('static', filename='js/dimension.js')}}"></script>
{% endblock page_specific_js %}
